<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <title>Stencil Component Starter</title>
  <script>
    function loadSavedTheme() {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        document.body.classList.toggle('dark-theme', savedTheme === 'dark');
      } else if (prefersDark) {
        document.body.classList.add('dark-theme');
        localStorage.setItem('theme', 'dark');
      }
    }
    document.addEventListener('DOMContentLoaded', loadSavedTheme);
  </script>
  <script type="module" src="/build/stencil-webcmp.esm.js"></script>
  <script nomodule src="/build/stencil-webcmp.js"></script>
  <link rel="stylesheet" href="theme.css">
  <style>
    body {
      padding: 0 24px;
      transition: background-color 0.3s, color 0.3s;
    }

    .my-30 {
      margin-top: 30px;
      margin-bottom: 30px;
    }

    .flex-1 {
      height: 90vh;
    }
  </style>
</head>

<body>
  <h1>Switch</h1>
  <cm-switch></cm-switch>
  <cm-dropdown class="my-30"></cm-dropdown>
  <cm-button class="my-30" id="theme-button">Toggle theme</cm-button>
  <cm-button is-loading class="my-30">Default</cm-button>
  <cm-button variants="danger" class="my-30">Danger</cm-button>
  <cm-button variants="secondary" class="my-30">Secondary</cm-button>
  <cm-button variants="link" class="my-30">Link</cm-button>
  <cm-spinner></cm-spinner>
  <div class="flex-1"></div>
  <script>
    function toggleTheme() {
      const isDarkTheme = document.body.classList.contains('dark-theme');
      document.body.classList.toggle('dark-theme', !isDarkTheme);
      localStorage.setItem('theme', isDarkTheme ? 'light' : 'dark');
    }

    const themeButton = document.querySelector('#theme-button')
    if (themeButton) {
      themeButton.addEventListener('buttonClicked', (e) => {
        toggleTheme()
      })
    }

  </script>
</body>

</html>